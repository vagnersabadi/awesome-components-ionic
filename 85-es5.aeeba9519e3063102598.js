!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{"z+fX":function(e,i,o){"use strict";o.r(i),o.d(i,"ChatPageModule",function(){return w});var a,r=o("ofXK"),s=o("3Pt+"),c=o("TEn/"),b=o("fXoL"),l=((a=function e(){n(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275mod=b.Nb({type:a}),a.\u0275inj=b.Mb({imports:[[r.c,s.h,c.nb,s.p]]}),a),p=o("tyNb"),u=o("mrSG");function m(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"img",11),b.Vb(2,"div",12),b.Qb(3,"div",13),b.Vb(4,"div",14),b.Vb(5,"span",15),b.Lc(6),b.Ub(),b.Lc(7,", "),b.Vb(8,"span"),b.Lc(9),b.ic(10,"lowercase"),b.ic(11,"date"),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e){var n=b.hc().$implicit,i=b.hc();b.Db(1),b.nc("src",i.toUser.pic,b.Dc),b.Db(2),b.nc("innerHTML",n.text,b.Cc),b.Db(3),b.Mc(i.toUser.username),b.Db(3),b.Mc(b.jc(10,4,b.kc(11,6,n.date,"ago")))}}function d(e,t){if(1&e&&(b.Vb(0,"div"),b.Qb(1,"img",16),b.Vb(2,"div",17),b.Qb(3,"div",13),b.Vb(4,"div",14),b.Vb(5,"span",15),b.Lc(6),b.Ub(),b.Lc(7,", "),b.Vb(8,"span"),b.Lc(9),b.ic(10,"lowercase"),b.ic(11,"date"),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e){var n=b.hc().$implicit,i=b.hc();b.Db(1),b.nc("src",i.user.pic,b.Dc),b.Db(2),b.nc("innerHTML",n.text,b.Cc),b.Db(3),b.Mc(i.user.username),b.Db(3),b.Mc(b.jc(10,4,b.kc(11,6,n.date,"ago")))}}function g(e,t){if(1&e&&(b.Vb(0,"div",8),b.Jc(1,m,12,9,"div",9),b.Jc(2,d,12,9,"div",9),b.Qb(3,"div",10),b.Ub()),2&e){var n=t.$implicit,i=b.hc();b.Db(1),b.nc("ngIf",i.user._id!==n.userId),b.Db(1),b.nc("ngIf",i.user._id===n.userId)}}var f,h=((f=function(){function e(t,i){n(this,e),this.formBuilder=t,this.modalCtrl=i,this.toUser={_id:"534b8e5aaa5e7afc1b23e69b",pic:"assets/yannbf/img/avatar/ian-avatar.png",username:"Venkman"},this.user={_id:"534b8fb2aa5e7afc1b23e69c",pic:"assets/yannbf/img/avatar/marty-avatar.png",username:"Marty"},this.doneLoading=!1,this.messages=[{_id:1,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"OH CRAP!!"},{_id:2,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"what??"},{_id:3,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"Pretty long message with lots of content"},{_id:4,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"Pretty long message with even way more of lots and lots of content"},{_id:5,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"what??"},{_id:6,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"yes!"}],this.messageForm=t.group({message:new s.d("")}),this.chatBox=""}return t(e,[{key:"ngOnInit",value:function(){}},{key:"send",value:function(e){var t=this;if(e&&""!==e){var n={toId:this.toUser._id,_id:6,date:new Date,userId:this.user._id,username:this.toUser.username,pic:this.toUser.pic,text:e};this.messages.push(n),this.scrollToBottom(),setTimeout(function(){var e={toId:t.toUser._id,_id:6,date:new Date,userId:t.toUser._id,username:t.toUser.username,pic:t.toUser.pic,text:"Just a quick reply"};t.messages.push(e),t.scrollToBottom()},1e3)}this.chatBox=""}},{key:"scrollToBottom",value:function(){var e=this;setTimeout(function(){e.content.scrollToBottom()},100)}},{key:"close",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||f)(b.Pb(s.c),b.Pb(c.rb))},f.\u0275cmp=b.Jb({type:f,selectors:[["app-messages"]],viewQuery:function(e,t){var n;1&e&&b.Pc(c.u,3),2&e&&b.xc(n=b.ec())&&(t.content=n.first)},decls:15,vars:4,consts:[["slot","start"],["slot","icon-only","fill","clear",3,"click"],["name","arrow-back"],["class","message-wrapper",4,"ngFor","ngForOf"],["novalidate","",3,"formGroup","submit"],["formControlName","message",3,"ngModel","placeholder","ngModelChange"],["fill","clear","slot","end",3,"click"],["name","send",1,"footer-btn"],[1,"message-wrapper"],[4,"ngIf"],[1,"cf"],["onerror","onProfilePicError(this)",1,"profile-pic","left",3,"src"],[1,"chat-bubble","left","slide-left"],["autolinker","",1,"message",3,"innerHTML"],[1,"message-detail"],[1,"bold"],["onerror","onProfilePicError(this)",1,"profile-pic","right",3,"src"],[1,"chat-bubble","right","slide-right"]],template:function(e,t){1&e&&(b.Vb(0,"ion-header"),b.Vb(1,"ion-toolbar"),b.Vb(2,"ion-buttons",0),b.Vb(3,"ion-button",1),b.dc("click",function(){return t.close()}),b.Qb(4,"ion-icon",2),b.Ub(),b.Ub(),b.Vb(5,"ion-title"),b.Lc(6,"Chat"),b.Ub(),b.Ub(),b.Ub(),b.Vb(7,"ion-content"),b.Jc(8,g,4,2,"div",3),b.Ub(),b.Vb(9,"ion-footer"),b.Vb(10,"form",4),b.dc("submit",function(){return t.send(t.chatBox)}),b.Vb(11,"ion-item"),b.Vb(12,"ion-input",5),b.dc("ngModelChange",function(e){return t.chatBox=e}),b.Ub(),b.Vb(13,"ion-button",6),b.dc("click",function(){return t.send(t.chatBox)}),b.Qb(14,"ion-icon",7),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Db(8),b.nc("ngForOf",t.messages),b.Db(2),b.nc("formGroup",t.messageForm),b.Db(2),b.pc("placeholder","Send ",t.toUser.username," a message..."),b.nc("ngModel",t.chatBox))},directives:[c.z,c.mb,c.l,c.k,c.A,c.kb,c.u,r.n,c.x,s.r,s.m,s.g,c.D,c.C,c.yb,s.l,s.f,r.o],pipes:[r.l,r.f],styles:['@charset "UTF-8";.bar-footer[_ngcontent-%COMP%]{overflow:visible!important}.bar-footer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:25px}button.ion-android-send[_ngcontent-%COMP%]{padding-top:2px}.footer-btn[_ngcontent-%COMP%]{font-size:x-large}img.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;position:absolute;bottom:10px}img.profile-pic.left[_ngcontent-%COMP%]{left:10px}img.profile-pic.right[_ngcontent-%COMP%]{right:10px}.ion-email[_ngcontent-%COMP%]{float:right;font-size:32px;vertical-align:middle}.message[_ngcontent-%COMP%]{font-size:14px}.message-detail[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px}.bar.item-input-inset[_ngcontent-%COMP%]   .item-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.message-wrapper[_ngcontent-%COMP%]{position:relative}.message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:10px}.chat-bubble[_ngcontent-%COMP%]{border-radius:5px;display:inline-block;padding:10px 18px;position:relative;margin:10px;max-width:80%}.chat-bubble[_ngcontent-%COMP%]:before{content:"\xa0";display:block;height:16px;width:9px;position:absolute;bottom:-7.5px}.chat-bubble.left[_ngcontent-%COMP%]{background-color:#e6e5eb;float:left;margin-left:55px}.chat-bubble.left[_ngcontent-%COMP%]:before{background-color:#e6e5eb;left:10px;-webkit-transform:rotate(70deg) skew(5deg)}.chat-bubble.right[_ngcontent-%COMP%]{background-color:#158ffe;color:#fff;float:right;margin-right:55px}.chat-bubble.right[_ngcontent-%COMP%]:before{background-color:#158ffe;right:10px;-webkit-transform:rotate(118deg) skew(-5deg)}.chat-bubble.right[_ngcontent-%COMP%]   a.autolinker[_ngcontent-%COMP%]{color:#fff;font-weight:700}.user-messages-top-icon[_ngcontent-%COMP%]{font-size:28px;right:5px}.msg-header-username[_ngcontent-%COMP%], .user-messages-top-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;position:relative;top:-3px}.item-input[_ngcontent-%COMP%], .item-input-wrapper[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#f4f4f4!important}.bold[_ngcontent-%COMP%]{font-weight:700}.cf[_ngcontent-%COMP%]{clear:both!important}a.autolinker[_ngcontent-%COMP%]{color:#3b88c3;text-decoration:none}.loader-center[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-content:stretch;align-items:center}.loader[_ngcontent-%COMP%]   .ion-loading-c[_ngcontent-%COMP%]{font-size:64px}']}),f);function U(e,t){if(1&e){var n=b.Wb();b.Vb(0,"ion-item",6),b.dc("click",function(){b.Bc(n);var e=t.$implicit;return b.hc().viewMessages(e)}),b.Vb(1,"ion-avatar",0),b.Qb(2,"img",7),b.Ub(),b.Vb(3,"ion-label"),b.Vb(4,"h2"),b.Lc(5),b.Ub(),b.Vb(6,"p"),b.Lc(7),b.Ub(),b.Ub(),b.Vb(8,"ion-note",5),b.Lc(9),b.ic(10,"lowercase"),b.ic(11,"date"),b.Ub(),b.Ub()}if(2&e){var i=t.$implicit;b.Db(2),b.nc("src",i.imageUrl,b.Dc),b.Db(3),b.Mc(i.title),b.Db(2),b.Mc(i.lastMessage),b.Db(2),b.Mc(b.jc(10,4,b.kc(11,6,i.timestamp,"hh:mm a")))}}var v,M,V=[{path:"",component:(v=function(){function e(t){n(this,e),this.modalCtrl=t,this.chats=[{imageUrl:"assets/yannbf/img/avatar/marty-avatar.png",title:"McFly",lastMessage:"Hey, what happened yesterday?",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/ian-avatar.png",title:"Venkman",lastMessage:"Sup, dude",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/sarah-avatar.jpg",title:"Sarah Mcconnor",lastMessage:"You still ow me that pizza.",timestamp:new Date}]}return t(e,[{key:"ngOnInit",value:function(){}},{key:"viewMessages",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:h,componentProps:{chatId:e.id}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))}}]),e}(),v.\u0275fac=function(e){return new(e||v)(b.Pb(c.rb))},v.\u0275cmp=b.Jb({type:v,selectors:[["app-chat"]],decls:60,vars:1,consts:[["slot","start"],["defaultHref","/"],[1,"chats"],[3,"click",4,"ngFor","ngForOf"],["src","assets/yannbf/img/avatar/marty-avatar.png"],["slot","end"],[3,"click"],[3,"src"]],template:function(e,t){1&e&&(b.Vb(0,"ion-header"),b.Vb(1,"ion-toolbar"),b.Vb(2,"ion-buttons",0),b.Qb(3,"ion-back-button",1),b.Ub(),b.Vb(4,"ion-title"),b.Lc(5,"Messages"),b.Ub(),b.Ub(),b.Ub(),b.Vb(6,"ion-content",2),b.Vb(7,"ion-list"),b.Vb(8,"ion-list-header"),b.Vb(9,"ion-label"),b.Lc(10,"Today"),b.Ub(),b.Ub(),b.Jc(11,U,12,9,"ion-item",3),b.Ub(),b.Vb(12,"ion-list"),b.Vb(13,"ion-list-header"),b.Vb(14,"ion-label"),b.Lc(15,"Yesterday"),b.Ub(),b.Ub(),b.Vb(16,"ion-item"),b.Vb(17,"ion-avatar",0),b.Qb(18,"img",4),b.Ub(),b.Vb(19,"ion-label"),b.Vb(20,"h2"),b.Lc(21,"McFly"),b.Ub(),b.Vb(22,"p"),b.Lc(23,"Lorem ipsum dolor sit amet.."),b.Ub(),b.Ub(),b.Vb(24,"ion-note",5),b.Lc(25,"11:11 pm"),b.Ub(),b.Ub(),b.Vb(26,"ion-item"),b.Vb(27,"ion-avatar",0),b.Qb(28,"img",4),b.Ub(),b.Vb(29,"ion-label"),b.Vb(30,"h2"),b.Lc(31,"McFly"),b.Ub(),b.Vb(32,"p"),b.Lc(33,"Lorem ipsum dolor sit amet.."),b.Ub(),b.Ub(),b.Vb(34,"ion-note",5),b.Lc(35,"11:11 pm"),b.Ub(),b.Ub(),b.Vb(36,"ion-item"),b.Vb(37,"ion-avatar",0),b.Qb(38,"img",4),b.Ub(),b.Vb(39,"ion-label"),b.Vb(40,"h2"),b.Lc(41,"McFly"),b.Ub(),b.Vb(42,"p"),b.Lc(43,"Lorem ipsum dolor sit amet.."),b.Ub(),b.Ub(),b.Vb(44,"ion-note",5),b.Lc(45,"11:11 pm"),b.Ub(),b.Ub(),b.Ub(),b.Vb(46,"ion-list"),b.Vb(47,"ion-list-header"),b.Vb(48,"ion-label"),b.Lc(49,"Last Week"),b.Ub(),b.Ub(),b.Vb(50,"ion-item"),b.Vb(51,"ion-avatar",0),b.Qb(52,"img",4),b.Ub(),b.Vb(53,"ion-label"),b.Vb(54,"h2"),b.Lc(55,"McFly"),b.Ub(),b.Vb(56,"p"),b.Lc(57,"Lorem ipsum dolor sit amet.."),b.Ub(),b.Ub(),b.Vb(58,"ion-note",5),b.Lc(59,"11:11 pm"),b.Ub(),b.Ub(),b.Ub(),b.Ub()),2&e&&(b.Db(11),b.nc("ngForOf",t.chats))},directives:[c.z,c.mb,c.l,c.h,c.i,c.kb,c.u,c.K,c.L,c.J,r.n,c.D,c.g,c.P],pipes:[r.l,r.f],styles:["ion-note[_ngcontent-%COMP%]{font-size:12px;align-self:flex-start;margin-top:14px}"]}),v)}],w=((M=function e(){n(this,e)}).\u0275fac=function(e){return new(e||M)},M.\u0275mod=b.Nb({type:M}),M.\u0275inj=b.Mb({imports:[[r.c,s.h,c.nb,p.j.forChild(V),l]]}),M)}}])}();