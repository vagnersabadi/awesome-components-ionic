(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{"z+fX":function(t,e,n){"use strict";n.r(e),n.d(e,"ChatPageModule",(function(){return h}));var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),a=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[i.c,o.g,s.nb,o.o]]}),t})();var c=n("tyNb"),b=n("mrSG");function l(t,e){if(1&t&&(a.Wb(0,"div"),a.Rb(1,"img",11),a.Wb(2,"div",12),a.Rb(3,"div",13),a.Wb(4,"div",14),a.Wb(5,"span",15),a.Mc(6),a.Vb(),a.Mc(7,", "),a.Wb(8,"span"),a.Mc(9),a.jc(10,"lowercase"),a.jc(11,"date"),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t){const t=a.ic().$implicit,e=a.ic();a.Cb(1),a.oc("src",e.toUser.pic,a.Ec),a.Cb(2),a.oc("innerHTML",t.text,a.Dc),a.Cb(3),a.Nc(e.toUser.username),a.Cb(3),a.Nc(a.kc(10,4,a.lc(11,6,t.date,"ago")))}}function p(t,e){if(1&t&&(a.Wb(0,"div"),a.Rb(1,"img",16),a.Wb(2,"div",17),a.Rb(3,"div",13),a.Wb(4,"div",14),a.Wb(5,"span",15),a.Mc(6),a.Vb(),a.Mc(7,", "),a.Wb(8,"span"),a.Mc(9),a.jc(10,"lowercase"),a.jc(11,"date"),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t){const t=a.ic().$implicit,e=a.ic();a.Cb(1),a.oc("src",e.user.pic,a.Ec),a.Cb(2),a.oc("innerHTML",t.text,a.Dc),a.Cb(3),a.Nc(e.user.username),a.Cb(3),a.Nc(a.kc(10,4,a.lc(11,6,t.date,"ago")))}}function m(t,e){if(1&t&&(a.Wb(0,"div",8),a.Kc(1,l,12,9,"div",9),a.Kc(2,p,12,9,"div",9),a.Rb(3,"div",10),a.Vb()),2&t){const t=e.$implicit,n=a.ic();a.Cb(1),a.oc("ngIf",n.user._id!==t.userId),a.Cb(1),a.oc("ngIf",n.user._id===t.userId)}}let g=(()=>{class t{constructor(t,e){this.formBuilder=t,this.modalCtrl=e,this.toUser={_id:"534b8e5aaa5e7afc1b23e69b",pic:"assets/yannbf/img/avatar/ian-avatar.png",username:"Venkman"},this.user={_id:"534b8fb2aa5e7afc1b23e69c",pic:"assets/yannbf/img/avatar/marty-avatar.png",username:"Marty"},this.doneLoading=!1,this.messages=[{_id:1,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"OH CRAP!!"},{_id:2,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"what??"},{_id:3,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"Pretty long message with lots of content"},{_id:4,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"Pretty long message with even way more of lots and lots of content"},{_id:5,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"what??"},{_id:6,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"yes!"}],this.messageForm=t.group({message:new o.c("")}),this.chatBox=""}ngOnInit(){}send(t){if(t&&""!==t){const e={toId:this.toUser._id,_id:6,date:new Date,userId:this.user._id,username:this.toUser.username,pic:this.toUser.pic,text:t};this.messages.push(e),this.scrollToBottom(),setTimeout(()=>{const t={toId:this.toUser._id,_id:6,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"Just a quick reply"};this.messages.push(t),this.scrollToBottom()},1e3)}this.chatBox=""}scrollToBottom(){setTimeout(()=>{this.content.scrollToBottom()},100)}close(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(o.b),a.Qb(s.rb))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-messages"]],viewQuery:function(t,e){var n;1&t&&a.Hc(s.u,!0),2&t&&a.yc(n=a.fc())&&(e.content=n.first)},decls:15,vars:4,consts:[["slot","start"],["slot","icon-only","fill","clear",3,"click"],["name","arrow-back"],["class","message-wrapper",4,"ngFor","ngForOf"],["novalidate","",3,"formGroup","submit"],["formControlName","message",3,"ngModel","placeholder","ngModelChange"],["fill","clear","slot","end",3,"click"],["name","send",1,"footer-btn"],[1,"message-wrapper"],[4,"ngIf"],[1,"cf"],["onerror","onProfilePicError(this)",1,"profile-pic","left",3,"src"],[1,"chat-bubble","left","slide-left"],["autolinker","",1,"message",3,"innerHTML"],[1,"message-detail"],[1,"bold"],["onerror","onProfilePicError(this)",1,"profile-pic","right",3,"src"],[1,"chat-bubble","right","slide-right"]],template:function(t,e){1&t&&(a.Wb(0,"ion-header"),a.Wb(1,"ion-toolbar"),a.Wb(2,"ion-buttons",0),a.Wb(3,"ion-button",1),a.ec("click",(function(){return e.close()})),a.Rb(4,"ion-icon",2),a.Vb(),a.Vb(),a.Wb(5,"ion-title"),a.Mc(6,"Chat"),a.Vb(),a.Vb(),a.Vb(),a.Wb(7,"ion-content"),a.Kc(8,m,4,2,"div",3),a.Vb(),a.Wb(9,"ion-footer"),a.Wb(10,"form",4),a.ec("submit",(function(){return e.send(e.chatBox)})),a.Wb(11,"ion-item"),a.Wb(12,"ion-input",5),a.ec("ngModelChange",(function(t){return e.chatBox=t})),a.Vb(),a.Wb(13,"ion-button",6),a.ec("click",(function(){return e.send(e.chatBox)})),a.Rb(14,"ion-icon",7),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Cb(8),a.oc("ngForOf",e.messages),a.Cb(2),a.oc("formGroup",e.messageForm),a.Cb(2),a.qc("placeholder","Send ",e.toUser.username," a message..."),a.oc("ngModel",e.chatBox))},directives:[s.z,s.mb,s.l,s.k,s.A,s.kb,s.u,i.n,s.x,o.q,o.l,o.f,s.D,s.C,s.yb,o.k,o.e,i.o],pipes:[i.l,i.f],styles:['@charset "UTF-8";.bar-footer[_ngcontent-%COMP%]{overflow:visible!important}.bar-footer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:25px}button.ion-android-send[_ngcontent-%COMP%]{padding-top:2px}.footer-btn[_ngcontent-%COMP%]{font-size:x-large}img.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;position:absolute;bottom:10px}img.profile-pic.left[_ngcontent-%COMP%]{left:10px}img.profile-pic.right[_ngcontent-%COMP%]{right:10px}.ion-email[_ngcontent-%COMP%]{float:right;font-size:32px;vertical-align:middle}.message[_ngcontent-%COMP%]{font-size:14px}.message-detail[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px}.bar.item-input-inset[_ngcontent-%COMP%]   .item-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.message-wrapper[_ngcontent-%COMP%]{position:relative}.message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:10px}.chat-bubble[_ngcontent-%COMP%]{border-radius:5px;display:inline-block;padding:10px 18px;position:relative;margin:10px;max-width:80%}.chat-bubble[_ngcontent-%COMP%]:before{content:"\xa0";display:block;height:16px;width:9px;position:absolute;bottom:-7.5px}.chat-bubble.left[_ngcontent-%COMP%]{background-color:#e6e5eb;float:left;margin-left:55px}.chat-bubble.left[_ngcontent-%COMP%]:before{background-color:#e6e5eb;left:10px;-webkit-transform:rotate(70deg) skew(5deg)}.chat-bubble.right[_ngcontent-%COMP%]{background-color:#158ffe;color:#fff;float:right;margin-right:55px}.chat-bubble.right[_ngcontent-%COMP%]:before{background-color:#158ffe;right:10px;-webkit-transform:rotate(118deg) skew(-5deg)}.chat-bubble.right[_ngcontent-%COMP%]   a.autolinker[_ngcontent-%COMP%]{color:#fff;font-weight:700}.user-messages-top-icon[_ngcontent-%COMP%]{font-size:28px;right:5px}.msg-header-username[_ngcontent-%COMP%], .user-messages-top-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;position:relative;top:-3px}.item-input[_ngcontent-%COMP%], .item-input-wrapper[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#f4f4f4!important}.bold[_ngcontent-%COMP%]{font-weight:700}.cf[_ngcontent-%COMP%]{clear:both!important}a.autolinker[_ngcontent-%COMP%]{color:#3b88c3;text-decoration:none}.loader-center[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-content:stretch;align-items:center}.loader[_ngcontent-%COMP%]   .ion-loading-c[_ngcontent-%COMP%]{font-size:64px}']}),t})();function d(t,e){if(1&t){const t=a.Xb();a.Wb(0,"ion-item",6),a.ec("click",(function(){a.Cc(t);const n=e.$implicit;return a.ic().viewMessages(n)})),a.Wb(1,"ion-avatar",0),a.Rb(2,"img",7),a.Vb(),a.Wb(3,"ion-label"),a.Wb(4,"h2"),a.Mc(5),a.Vb(),a.Wb(6,"p"),a.Mc(7),a.Vb(),a.Vb(),a.Wb(8,"ion-note",5),a.Mc(9),a.jc(10,"lowercase"),a.jc(11,"date"),a.Vb(),a.Vb()}if(2&t){const t=e.$implicit;a.Cb(2),a.oc("src",t.imageUrl,a.Ec),a.Cb(3),a.Nc(t.title),a.Cb(2),a.Nc(t.lastMessage),a.Cb(2),a.Nc(a.kc(10,4,a.lc(11,6,t.timestamp,"hh:mm a")))}}const u=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t,this.chats=[{imageUrl:"assets/yannbf/img/avatar/marty-avatar.png",title:"McFly",lastMessage:"Hey, what happened yesterday?",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/ian-avatar.png",title:"Venkman",lastMessage:"Sup, dude",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/sarah-avatar.jpg",title:"Sarah Mcconnor",lastMessage:"You still ow me that pizza.",timestamp:new Date}]}ngOnInit(){}viewMessages(t){return Object(b.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:g,componentProps:{chatId:t.id}});yield e.present()}))}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(s.rb))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-chat"]],decls:60,vars:1,consts:[["slot","start"],["defaultHref","/"],[1,"chats"],[3,"click",4,"ngFor","ngForOf"],["src","assets/yannbf/img/avatar/marty-avatar.png"],["slot","end"],[3,"click"],[3,"src"]],template:function(t,e){1&t&&(a.Wb(0,"ion-header"),a.Wb(1,"ion-toolbar"),a.Wb(2,"ion-buttons",0),a.Rb(3,"ion-back-button",1),a.Vb(),a.Wb(4,"ion-title"),a.Mc(5,"Messages"),a.Vb(),a.Vb(),a.Vb(),a.Wb(6,"ion-content",2),a.Wb(7,"ion-list"),a.Wb(8,"ion-list-header"),a.Wb(9,"ion-label"),a.Mc(10,"Today"),a.Vb(),a.Vb(),a.Kc(11,d,12,9,"ion-item",3),a.Vb(),a.Wb(12,"ion-list"),a.Wb(13,"ion-list-header"),a.Wb(14,"ion-label"),a.Mc(15,"Yesterday"),a.Vb(),a.Vb(),a.Wb(16,"ion-item"),a.Wb(17,"ion-avatar",0),a.Rb(18,"img",4),a.Vb(),a.Wb(19,"ion-label"),a.Wb(20,"h2"),a.Mc(21,"McFly"),a.Vb(),a.Wb(22,"p"),a.Mc(23,"Lorem ipsum dolor sit amet.."),a.Vb(),a.Vb(),a.Wb(24,"ion-note",5),a.Mc(25,"11:11 pm"),a.Vb(),a.Vb(),a.Wb(26,"ion-item"),a.Wb(27,"ion-avatar",0),a.Rb(28,"img",4),a.Vb(),a.Wb(29,"ion-label"),a.Wb(30,"h2"),a.Mc(31,"McFly"),a.Vb(),a.Wb(32,"p"),a.Mc(33,"Lorem ipsum dolor sit amet.."),a.Vb(),a.Vb(),a.Wb(34,"ion-note",5),a.Mc(35,"11:11 pm"),a.Vb(),a.Vb(),a.Wb(36,"ion-item"),a.Wb(37,"ion-avatar",0),a.Rb(38,"img",4),a.Vb(),a.Wb(39,"ion-label"),a.Wb(40,"h2"),a.Mc(41,"McFly"),a.Vb(),a.Wb(42,"p"),a.Mc(43,"Lorem ipsum dolor sit amet.."),a.Vb(),a.Vb(),a.Wb(44,"ion-note",5),a.Mc(45,"11:11 pm"),a.Vb(),a.Vb(),a.Vb(),a.Wb(46,"ion-list"),a.Wb(47,"ion-list-header"),a.Wb(48,"ion-label"),a.Mc(49,"Last Week"),a.Vb(),a.Vb(),a.Wb(50,"ion-item"),a.Wb(51,"ion-avatar",0),a.Rb(52,"img",4),a.Vb(),a.Wb(53,"ion-label"),a.Wb(54,"h2"),a.Mc(55,"McFly"),a.Vb(),a.Wb(56,"p"),a.Mc(57,"Lorem ipsum dolor sit amet.."),a.Vb(),a.Vb(),a.Wb(58,"ion-note",5),a.Mc(59,"11:11 pm"),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Cb(11),a.oc("ngForOf",e.chats))},directives:[s.z,s.mb,s.l,s.h,s.i,s.kb,s.u,s.K,s.L,s.J,i.n,s.D,s.g,s.P],pipes:[i.l,i.f],styles:["ion-note[_ngcontent-%COMP%]{font-size:12px;align-self:flex-start;margin-top:14px}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[i.c,o.g,s.nb,c.j.forChild(u),r]]}),t})()}}]);